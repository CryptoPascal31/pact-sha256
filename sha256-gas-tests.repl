(enforce-pact-version "5.0")

(load "sha256.pact")
(use sha256_mod)
(print "Gas tests:")

(env-gasmodel "table")
(env-gaslimit 100000)

(defun add-prefix:string (x:string)
  (+ "GAS:" x))

(env-gas 0)
(pad-int 0 0)
(print (add-prefix (format "Pad integer: Size 0 => {}" [(env-gas)])))

(env-gas 0)
(pad-int 256 6664742834486573086708234057770348864748488935814758477414506688750445137266)
(print (add-prefix (format "Pad integer: Size 256 => {}" [(env-gas)])))

(env-gas 0)
(pad-int 440 2029997363019148607525769974471447509324452633317985527715831705260707266731696175384526609146574397152305191273064585258275498345877)
(print (add-prefix (format "Pad integer: Size 440 => {}" [(env-gas)])))

(env-gas 0)
(pad-int 496 90013834139763715120447823222346699222986114604139345525191656766151588253028847464696287371094846641922387832841820695638795839872745737041564958356)
(print (add-prefix (format "Pad integer: Size 496 => {}" [(env-gas)])))

(env-gas 0)
(pad-int 640 34593618749113528452613378825391035801920868457309732733688660517936324515770229147329682679404109308180102822369266850668646418149514986113006790487010922361007773599872415614652258730)
(print (add-prefix (format "Pad integer: Size 640 => {}" [(env-gas)])))


(env-gas 0)
(digest [12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937])
(print (add-prefix (format "Digest 1 block => {}" [(env-gas)])))

(env-gas 0)
(digest [12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937 12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937] )
(print (add-prefix (format "Digest 2 blocks => {}" [(env-gas)])))

(env-gas 0)
(digest [12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937 12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937 12922397787992247490029672285512076503817456954678186402751579543734981610124984297212872496909828014009734945572568790534163382136937766450684485298641937] )
(print (add-prefix (format "Digest 3 blocks => {}" [(env-gas)])))
